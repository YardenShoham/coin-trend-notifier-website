(this["webpackJsonpcoin-trend-notifier-website"]=this["webpackJsonpcoin-trend-notifier-website"]||[]).push([[0],{116:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),s=r.n(a),c=r(19),i=r.n(c),o=(r(89),r(9)),l=r(129),u=r(122),j=r(132),d=r.p+"static/media/logo.ce52a0ab.png",b=r(10),h=r(133),p=r(121),x=r(14),f=r(69);function O(e){var t=Object(b.f)(),r=Object(f.useMediaQuery)({query:"(min-device-width: 1224px)"});return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(h.a,{id:"AccountWindow",style:r?{width:"250%",right:"-39px",top:"52px",position:"absolute",display:e.visible?"block":"none",zIndex:"1"}:{width:"100%",top:"52px",position:"absolute",display:e.visible?"block":"none",zIndex:"1"},children:[Object(n.jsxs)(h.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"},children:["Hi"," ",localStorage.getItem("username")?localStorage.getItem("username"):"Guest"]}),Object(n.jsx)(h.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"},children:Object(n.jsx)(x.b,{onClick:e.onAccountWindowChange,to:"/coin-trend-notifier-website/preferences",children:"My Preferences"})}),Object(n.jsx)(h.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"},children:Object(n.jsx)(x.b,{onClick:e.onAccountWindowChange,to:"/coin-trend-notifier-website/settings",children:"Account Settings"})}),Object(n.jsx)(h.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"},children:Object(n.jsx)(p.a,{variant:"outline-danger",size:"sm",style:{color:"rgba(255,255,255,.5)"},onClick:function(){localStorage.setItem("jwt",""),e.onAccountWindowChange(),t.push("/coin-trend-notifier-website/home")},children:"Logout"})})]})})}function m(e){var t=Object(a.useState)(!1),r=Object(o.a)(t,2),c=r[0],i=r[1],h=function(){i(!c)},p=Object(b.f)(),x=function(e){p.push("/coin-trend-notifier-website/".concat(e))};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(l.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",style:{marginBottom:"30px",position:"relative"},children:Object(n.jsxs)(u.a,{style:{maxWidth:"1020px",margin:"auto"},children:[Object(n.jsx)(l.a.Brand,{href:"/coin-trend-notifier-website",children:Object(n.jsx)("img",{src:d,width:"90px",className:"d-inline-block align-top",alt:"logo",style:{marginLeft:"15px"}})}),Object(n.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(l.a.Collapse,{id:"responsive-navbar-nav",children:[Object(n.jsxs)(j.a,{className:"mr-auto",children:[Object(n.jsx)(j.a.Link,{onClick:function(){c&&h(),x("")},children:"Home"}),Object(n.jsx)(j.a.Link,{onClick:function(){c&&h(),x("about")},children:"About"})]}),Object(n.jsxs)(j.a,{className:"mr-sm-2",variant:"dark",style:{position:"relative"},children:[Object(n.jsx)(j.a.Link,{style:{color:"rgba(255,255,255,.5)"},onClick:function(){return h()},children:"Account"}),Object(n.jsx)(O,{visible:c,onAccountWindowChange:h})]})]})]})})})}var g=r(123),v=r(74),y=r(131);function w(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(u.a,{fluid:!0,className:"HomepageBody",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(v.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10,children:Object(n.jsxs)(y.a,{className:"text-center",children:[Object(n.jsx)(y.a.Header,{children:"About Us"}),Object(n.jsxs)(y.a.Body,{children:[Object(n.jsx)(y.a.Title,{children:"Coin Trend Notifier"}),Object(n.jsx)(y.a.Text,{children:"Our services are for crypto traders who seek good calculated information to help them trade the cryptcurrency market."}),Object(n.jsx)(y.a.Title,{children:"How we do it"}),Object(n.jsx)(y.a.Text,{children:"We are using an algorithm we developed along with NLP (Natural Language Processing) to analyze tweets from Twitter."}),Object(n.jsx)(y.a.Text,{children:"We are all these information and connect in a way that gives the exact calculated weight to each parameter."}),Object(n.jsx)(y.a.Title,{children:"How much does it cost"}),Object(n.jsx)(y.a.Text,{children:"After many meetings in the hot air of Tel Aviv Israel we decided to give this service to you with an amazing price of 1,000,000 nothing =)."})]}),Object(n.jsx)(y.a.Footer,{className:"text-muted",children:"By Aviel Vaknin and Yarden Shoham"})]})})})})})}var C=r(7),A=r.n(C),N=r(8),k=r(27),S=r(28),P=r(31),I=r(29),E=r(124),T=r(35),q=r(82),B=(r(59),r(75)),L=r(76),D=function(e){var t=e.color,r=Object(q.a)(e,["color"]),a="green"===t?45:135;return Object(n.jsx)(B.a,Object(T.a)({icon:L.a,size:"2x",style:{color:t,transform:"rotate("+a+"deg)",marginLeft:"1rem"}},r))};function H(e){var t={minHeight:"100%",display:"flex",alignItems:"center"};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(y.a,{children:Object(n.jsx)(u.a,{fluid:"true",style:{padding:"5px",textAlign:"center"},children:Object(n.jsxs)(g.a,{noGutters:"true",children:[Object(n.jsx)(v.a,{xs:1,children:Object(n.jsx)("h3",{style:{minHeight:"100%",display:"flex",alignItems:"center",width:"0px",color:"lightslategrey"},children:e.indx})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h3",{style:t,children:Object(n.jsx)(E.a,{variant:"up"===e.type?"success":"danger",children:e.base+"/"+e.quote})})}),Object(n.jsx)(v.a,{style:{display:"flex",alignItems:"center"},children:Object(n.jsx)("h3",{children:"up"===e.type?Object(n.jsx)(D,{color:"green"}):Object(n.jsx)(D,{color:"red"})})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h3",{style:t,children:Object(n.jsx)(E.a,{variant:"up"===e.type?"success":"danger",children:Math.abs(e.chance)+"%"})})}),Object(n.jsx)(v.a,{children:Object(n.jsx)(p.a,{style:t,variant:"info",href:"/coin-trend-notifier-website/trends/".concat(e.id),children:"Click for more"})})]})})})})}var F=r(51).default,R="https://coin-trend-notifier-api.herokuapp.com/",z=function(e){var t=localStorage.getItem("jwt"),r={headers:{Authorization:"Bearer ".concat(t)}};return F.get(R+"api/events?amount=".concat(e),r)},G=function(e){return F.get(R+"api/events/".concat(e))},M=function(e){Object(P.a)(r,e);var t=Object(I.a)(r);function r(){var e;Object(k.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={allTrends:[],amount:15},e.verticalCenterStyle={minHeight:"100%",display:"flex",alignItems:"center",color:"lightslategrey"},e.borderStyle={padding:"5px",textAlign:"center"},e.handleAllTrends=Object(N.a)(A.a.mark((function t(){var r,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e.state.amount);case 2:r=t.sent,n=r.data,e.setState({allTrends:n.map((function(e){return{base:e.baseAssetName,quote:e.quoteAssetName,type:e.probability>0?"up":"down",chance:Math.round(100*e.probability),url:"/coin-trend-notifier-website/trends/"+e._id,firedAt:e.firedAt,id:e._id}}))});case 5:case"end":return t.stop()}}),t)}))),e}return Object(S.a)(r,[{key:"componentDidMount",value:function(){try{this.handleAllTrends()}catch(e){console.log(e)}}},{key:"render",value:function(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)(u.a,{fluid:"true",style:this.borderStyle,children:Object(n.jsxs)(g.a,{noGutters:"true",children:[Object(n.jsx)(v.a,{xs:1,children:Object(n.jsx)("h4",{style:this.verticalCenterStyle,children:"#"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h4",{style:this.verticalCenterStyle,children:"Asset"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h4",{style:this.verticalCenterStyle,children:"Expected to"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h4",{style:this.verticalCenterStyle,children:"Probability"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h4",{style:this.verticalCenterStyle,children:"More info"})})]})})}),this.state.allTrends.map((function(e,t){return Object(n.jsx)(H,{indx:t+1,base:e.base,quote:e.quote,type:e.type,chance:e.chance,url:e.url,firedAt:e.firedAt,id:e.id},"STD"+t)}))]})}}]),r}(a.Component),V=r(125);function U(e){var t=Object(a.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),d=j[0],b=j[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),x=p[0],f=p[1],O=Object(a.useState)(""),m=Object(o.a)(O,2),y=m[0],w=m[1],C=function(e){var t=new Date(e);return{date:"".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear()),time:"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}},k=function(e){return{type:e<0?0:1,probability:(100*Math.abs(e)).toPrecision(4)+"%"}};return Object(a.useEffect)((function(){function t(){return(t=Object(N.a)(A.a.mark((function t(){var r,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e.match.params.id);case 2:r=t.sent,n=r.data,i(n.probability),b(n.firedAt),f(n.baseAssetName),w(n.quoteAssetName);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(u.a,{fluid:!0,className:"HomepageBody",style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%",width:"80%"},children:[Object(n.jsx)(g.a,{style:{textAlign:"center"},children:Object(n.jsx)(v.a,{children:Object(n.jsx)(V.a,{style:{padding:"5%"},children:Object(n.jsxs)("h1",{children:["ID: ",Object(n.jsx)(E.a,{variant:"secondary",children:e.match.params.id})]})})})}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:"Asset:"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:Object(n.jsx)(E.a,{variant:"secondary",children:x+"/"+y})})})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:"Probability:"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:Object(n.jsx)(E.a,{variant:0===k(c).type?"danger":"success",children:k(c).probability})})})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:"Date:"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:Object(n.jsx)(E.a,{variant:"secondary",children:C(d).date})})})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:"Time:"})}),Object(n.jsx)(v.a,{children:Object(n.jsx)("h1",{children:Object(n.jsx)(E.a,{variant:"secondary",children:C(d).time})})})]})]})})}var W=r(128),_=r(51).default,Q="https://coin-trend-notifier-api.herokuapp.com/",Y=function(){var e=Object(N.a)(A.a.mark((function e(t,r,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(Q+"api/users",{email:t,password:r,username:n,alertLimit:a});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(N.a)(A.a.mark((function e(t,r,n){var a,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwt"),s={headers:{Authorization:"Bearer ".concat(a)}},e.next=4,_.put(Q+"api/users",{email:t,username:r,alertLimit:n},s).data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(N.a)(A.a.mark((function e(t,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(Q+"api/users/login",{email:t,password:r});case 2:n=e.sent,localStorage.setItem("jwt",n.data.jwt);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(N.a)(A.a.mark((function e(t,r){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("jwt"),a={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,_.patch(Q+"api/users/password",{oldPassword:t,newPassword:r},a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(N.a)(A.a.mark((function e(){var t,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=4,_.get(Q+"api/users",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(e){var t="m-3",r=Object(b.f)();return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{style:{textAlign:"center"},className:t,children:Object(n.jsx)(p.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"},children:"Login"})})}),""!==e.error&&Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:11,xs:10,style:{textAlign:"center"},className:t,children:e.error})}),Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:5,xs:10,style:{textAlign:"center"},className:t,children:Object(n.jsx)(p.a,{onClick:function(){r.push("/coin-trend-notifier-website/signup")},variant:"outline-primary",children:"Click here for Signup"})})})]})}function ee(e){var t=Object(a.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),x=p[0],f=p[1],O=function(){var e=Object(N.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,X(c,j);case 4:return e.next=6,K();case 6:r=e.sent.data,localStorage.setItem("username",r.username),m.push("/coin-trend-notifier-website/trends"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f("User does not exist or Password does not match. Try again.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),m=Object(b.f)();return Object(a.useEffect)((function(){localStorage.getItem("jwt")&&m.push("/coin-trend-notifier-website/trends")})),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(W.a,{onSubmit:O,children:[Object(n.jsxs)(W.a.Group,{controlId:"formEmail",children:[Object(n.jsx)(W.a.Label,{children:"Email"}),Object(n.jsx)(W.a.Control,{type:"email",placeholder:"Email",onChange:function(e){i(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formPassword",children:[Object(n.jsx)(W.a.Label,{children:"Password"}),Object(n.jsx)(W.a.Control,{type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)}})]}),Object(n.jsx)(Z,{error:x})]})})}var te=r(130),re=r(126);function ne(e){var t="m-3";return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{style:{textAlign:"center"},className:t,children:Object(n.jsx)(p.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"},children:"Update"})})}),""!==e.error&&Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:11,xs:10,style:{textAlign:"center"},className:t,children:e.error})}),Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:5,xs:10,style:{textAlign:"center"},className:t,children:Object(n.jsx)(p.a,{onClick:e.refresh,variant:"outline-primary",children:"Reset"})})})]})}function ae(e){var t=Object(a.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(a.useState)("0"),x=Object(o.a)(h,2),f=x[0],O=x[1],m=Object(a.useState)(""),g=Object(o.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)(!1),C=Object(o.a)(w,2),k=C[0],S=C[1],P=Object(a.useRef)(null),I=Object(a.useRef)(null),E=Object(a.useRef)(null),q=Object(b.f)(),B=function(){var e=Object(N.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J(c,j,60*parseInt(f));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),y("Error"),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),L=Object(a.useCallback)(Object(N.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.current.value="",I.current.value="",E.current.value=0,e.next=3,K();case 3:t=e.sent.data,i(t.email),d(t.username),O(t.alertLimit/60);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){L()}),[L]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(W.a,{onSubmit:B,children:[Object(n.jsxs)(W.a.Group,{controlId:"formEmail",children:[Object(n.jsx)(W.a.Label,{children:"Email"}),Object(n.jsx)(W.a.Control,{type:"email",ref:P,placeholder:c,onChange:function(e){""===e.target.value&&L(),i(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formUsername",children:[Object(n.jsx)(W.a.Label,{children:"Username"}),Object(n.jsx)(W.a.Control,{type:"text",ref:I,placeholder:j,onChange:function(e){""===e.target.value&&L(),d(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formAlertLimitNumber",children:[Object(n.jsx)(te.a,{target:E.current,show:k,placement:"right",children:function(e){return Object(n.jsx)(re.a,Object(T.a)(Object(T.a)({id:"overlay-alert"},e),{},{children:"Max amount of min hours to be notified"}))}}),Object(n.jsx)(W.a.Label,{children:"Alert Limit"}),Object(n.jsx)(W.a.Control,{type:"number",ref:E,min:0,value:f,onChange:function(e){""===e.target.value&&L(),O(e.target.value)},onMouseOver:function(){return S(!k)},onMouseOut:function(){return S(!k)}})]}),Object(n.jsx)("div",{style:{textAlign:"center"},className:"m-3",children:Object(n.jsx)(p.a,{onClick:function(){q.push("/coin-trend-notifier-website/settings/pass")},variant:"outline-danger",children:"Change Password"})}),Object(n.jsx)(ne,{error:v,refresh:L})]})})}function se(e){var t="m-3";return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{style:{textAlign:"center"},className:t,children:Object(n.jsx)(p.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"},children:"Change Password"})})}),""!==e.error&&Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:11,xs:10,style:{textAlign:"center"},className:t,children:e.error})}),Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:6,xs:10,style:{textAlign:"center"},className:t,children:Object(n.jsx)(p.a,{onClick:e.backToSettings,variant:"outline-primary",children:"Back To Settings"})})})]})}function ce(e){var t=Object(a.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),x=p[0],f=p[1],O=Object(a.useState)(""),m=Object(o.a)(O,2),g=m[0],v=m[1],y=Object(b.f)(),w=function(){var e=Object(N.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,j===x){e.next=5;break}throw setTimeout((function(){v("")}),3e3),Error("New Passwords Won't Match");case 5:if(!(x.length<6)){e.next=8;break}throw setTimeout((function(){v("")}),3e3),Error("Password must be over 6 characters");case 8:return e.next=10,$(c,j);case 10:C(),e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(1),!e.t0.message.includes("422")){e.next=18;break}return v("This is not your old password"),e.abrupt("return");case 18:v(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){y.push("/coin-trend-notifier-website/settings")};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(W.a,{onSubmit:w,children:[Object(n.jsxs)(W.a.Group,{controlId:"formOldPassword",children:[Object(n.jsx)(W.a.Label,{children:"Old Password"}),Object(n.jsx)(W.a.Control,{type:"password",placeholder:"Enter Old Password",onChange:function(e){i(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formNewPass1",children:[Object(n.jsx)(W.a.Label,{children:"New Password"}),Object(n.jsx)(W.a.Control,{type:"password",placeholder:"Enter New Password",onChange:function(e){d(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formNewPass2",children:[Object(n.jsx)(W.a.Label,{children:"Confirm Password"}),Object(n.jsx)(W.a.Control,{type:"password",placeholder:"Enter New Password Again",onChange:function(e){f(e.target.value)}})]}),Object(n.jsx)(se,{error:g,backToSettings:C})]})})}function ie(e){var t=Object(b.f)(),r="m-3";return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{style:{textAlign:"center"},className:r,children:Object(n.jsx)(p.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"},children:"Signup"})})}),""!==e.error&&Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:11,xs:10,style:{textAlign:"center"},className:r,children:e.error})}),Object(n.jsx)(g.a,{className:"justify-content-md-center",children:Object(n.jsx)(v.a,{md:5,xs:10,style:{textAlign:"center"},className:r,children:Object(n.jsx)(p.a,{onClick:function(){t.push("/coin-trend-notifier-website/login")},variant:"outline-primary",children:"Cancel"})})})]})}function oe(e){var t=Object(a.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),x=p[0],f=p[1],O=Object(a.useState)("0"),m=Object(o.a)(O,2),g=m[0],v=m[1],y=Object(a.useState)(""),w=Object(o.a)(y,2),C=w[0],k=w[1],S=Object(b.f)(),P=function(){var e=Object(N.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Y(c,j,x,60*parseInt(g));case 4:S.push("/coin-trend-notifier-website/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),k("Error"),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(W.a,{onSubmit:P,children:[Object(n.jsxs)(W.a.Group,{controlId:"formEmail",children:[Object(n.jsx)(W.a.Label,{children:"Email"}),Object(n.jsx)(W.a.Control,{type:"email",placeholder:"Email",onChange:function(e){i(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formPassword",children:[Object(n.jsx)(W.a.Label,{children:"Password"}),Object(n.jsx)(W.a.Control,{type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formUsername",children:[Object(n.jsx)(W.a.Label,{children:"Username"}),Object(n.jsx)(W.a.Control,{type:"text",placeholder:"Username",onChange:function(e){f(e.target.value)}})]}),Object(n.jsxs)(W.a.Group,{controlId:"formAlertLimitNumber",children:[Object(n.jsx)(W.a.Label,{children:"Alert Limit"}),Object(n.jsx)(W.a.Control,{type:"number",min:0,placeholder:"Max amount of min hours to be notified",onChange:function(e){v(e.target.value)}})]}),Object(n.jsx)(ie,{error:C})]})})}var le=r(80),ue=r(51).default,je="https://coin-trend-notifier-api.herokuapp.com/api/preferences",de=function(){var e=Object(N.a)(A.a.mark((function e(t,r,n){var a,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwt"),s={headers:{Authorization:"Bearer ".concat(a)}},e.next=4,ue.post(je,{probability:t,baseAssetName:r,quoteAssetName:n},s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(N.a)(A.a.mark((function e(t){var r,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwt"),n={headers:{Authorization:"Bearer ".concat(r)}},e.next=4,ue.delete(je+"?baseAssetName="+t.baseAssetName+"&quoteAssetName="+t.quoteAssetName,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(N.a)(A.a.mark((function e(){var t,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=4,ue.get(je,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=r(127),xe=function(e){Object(P.a)(r,e);var t=Object(I.a)(r);function r(e){var n;Object(k.a)(this,r),(n=t.call(this,e)).state={preference:{},edit:!0,originalValues:{}},n.calculateProbabilities=function(){for(var e=[],t=10;t<=90;t+=10)e.push(t);return e},n.handleEditPreference=function(){var e=Object(N.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!n.state.edit){e.next=25;break}if("Base Coin"!==n.state.preference.baseAssetName&&"Quote Coin"!==n.state.preference.quoteAssetName&&"Probability"!==n.state.preference.probability){e.next=7;break}return r=!r,n.props.onEditChange(t,r),n.props.onError("Error - found default values on new preference"),e.abrupt("return");case 7:if(r){e.next=25;break}if("Base Coin"!==n.state.originalValues.baseAssetName||"Quote Coin"!==n.state.originalValues.quoteAssetName||"Probability"!==n.state.originalValues.probability){e.next=13;break}return e.next=11,de(parseFloat(n.state.preference.probability)/100,n.state.preference.baseAssetName,n.state.preference.quoteAssetName);case 11:e.next=23;break;case 13:if(n.state.preference.baseAssetName===n.state.originalValues.baseAssetName&&n.state.preference.quoteAssetName===n.state.originalValues.quoteAssetName){e.next=20;break}return e.next=16,be({baseAssetName:n.state.originalValues.baseAssetName,quoteAssetName:n.state.originalValues.quoteAssetName});case 16:return e.next=18,de(parseFloat(n.state.preference.probability)/100,n.state.preference.baseAssetName,n.state.preference.quoteAssetName);case 18:e.next=23;break;case 20:if(n.state.preference.probability===n.state.originalValues.probability){e.next=23;break}return e.next=23,de(parseFloat(n.state.preference.probability)/100,n.state.preference.baseAssetName,n.state.preference.quoteAssetName);case 23:n.props.refresh(),console.log("preference saved");case 25:n.props.onEditChange(t,r),n.setState({edit:r});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePreferenceChanges=function(e,t,r){var a=n.state.preference;"base"===e?a.baseAssetName=r.target.value:"quote"===e?a.quoteAssetName=r.target.value:"prob"===e&&(a.probability=r.target.value),n.setState({preference:a})},n.componentDidMount=function(){},n.getDefaultValue=function(){return"Probability"===n.props.preference.probability?"Probability":100*n.props.preference.probability};var a=Object.assign({},n.props.preference),s=Object.assign({},n.props.preference),c=n.props.editing;return n.state={edit:c,preference:s,originalValues:a},n}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(y.a,{children:Object(n.jsxs)(W.a.Row,{children:[Object(n.jsx)(v.a,{xs:1,children:Object(n.jsx)(p.a,{variant:"outline-danger",onClick:function(){return e.props.onRemovePreference(e.props.index)},children:"x"})}),Object(n.jsx)(v.a,{xs:1.2,children:Object(n.jsx)(p.a,{id:"preference_"+this.props.index,variant:"outline-info",onClick:function(){return e.handleEditPreference(e.props.index)},children:!1===this.state.edit?"Edit":"Save"})}),Object(n.jsx)(v.a,{children:Object(n.jsxs)(W.a.Control,{defaultValue:this.props.preference.baseAssetName,disabled:!this.state.edit,as:"select",onChange:function(t){return e.handlePreferenceChanges("base",e.props.index,t)},children:[Object(n.jsx)("option",{children:"Base Coin"}),this.props.baseCoins.map((function(e){return Object(n.jsx)("option",{value:e,children:e},"option_"+e)}))]})}),Object(n.jsx)(v.a,{style:{textAlign:"center"},xs:1,children:"/"}),Object(n.jsx)(v.a,{children:Object(n.jsxs)(W.a.Control,{disabled:!this.state.edit,as:"select",onChange:function(t){return e.handlePreferenceChanges("quote",e.props.index,t)},defaultValue:this.props.preference.quoteAssetName,children:[Object(n.jsx)("option",{children:"Quote Coin"}),this.props.quoteCoins.map((function(e){return Object(n.jsx)("option",{value:e,children:e},"option_"+e)}))]})}),Object(n.jsx)(v.a,{children:Object(n.jsxs)(W.a.Control,{defaultValue:this.getDefaultValue(),disabled:!this.state.edit,as:"select",onChange:function(t){return e.handlePreferenceChanges("prob",e.props.index,t)},children:[Object(n.jsx)("option",{value:"Probability",children:"Probability"},"option_new"),this.calculateProbabilities().map((function(e){var t=parseInt(e);return Object(n.jsx)("option",{value:t,children:t+"%"},"option_"+t)}))]})})]})})})}}]),r}(a.Component),fe=function(e){Object(P.a)(r,e);var t=Object(I.a)(r);function r(){var e;Object(k.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={userPreferences:[],editing:[],baseCoins:["BTC","ETH","TRX","USDT"],quoteCoins:["BTC","ETH","TRX","USDT"],error:""},e.handleErrorChange=function(t){e.setState({error:t}),setTimeout((function(){e.setState({error:""})}),5e3)},e.handleNewUserPreferences=function(){e.setState({userPrefences:e.state.userPreferences.push({probability:"Probability",baseAssetName:"Base Coin",quoteAssetName:"Quote Coin"}),editing:[].concat(Object(le.a)(e.state.editing),[!0])})},e.handleRemovePreference=function(){var t=Object(N.a)(A.a.mark((function t(r){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Base Coin"!==e.state.userPreferences[r].baseAssetName&&"Quote Coin"!==e.state.userPreferences[r].quoteAssetName&&"Probability"!==e.state.userPreferences[r].probability||e.refreshData(),n=e.state.userPreferences,t.next=4,be({baseAssetName:n[r].baseAssetName,quoteAssetName:n[r].quoteAssetName});case 4:e.refreshData();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.refreshData=Object(N.a)(A.a.mark((function t(){var r,n,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he();case 2:for(r=t.sent,n=[],a=0;a<r.data.length;a++)n.push(!1);e.setState({userPreferences:r.data,editing:n});case 6:case"end":return t.stop()}}),t)}))),e.handleEditingChange=function(t,r){var n=e.state.editing;n[t]=r,e.setState({editing:n})},e.componentDidMount=Object(N.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData();case 2:case"end":return t.stop()}}),t)}))),e}return Object(S.a)(r,[{key:"render",value:function(){var e,t=this;try{e=this.state.userPreferences.map((function(e,r){return Object(n.jsx)(xe,{index:r,preference:e,editing:t.state.editing[r],onRemovePreference:t.handleRemovePreference,baseCoins:t.state.baseCoins,quoteCoins:t.state.quoteCoins,refresh:t.refreshData,onEditChange:t.handleEditingChange,onError:t.handleErrorChange},"preference_"+r)}))}catch(r){e=null}return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)("h1",{children:["Hi,"," ",localStorage.getItem("username")?localStorage.getItem("username"):"Guest"]}),Object(n.jsx)("span",{children:"In this page you can edit your preferred coins."}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:"You will get notifications on the crypto coins that are shown here."}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(W.a,{onSubmit:this.handleSaveChanges,children:[e,Object(n.jsx)("br",{}),Object(n.jsx)("div",{id:"error-container",style:{textAlign:"center"},children:Object(n.jsx)("span",{children:this.state.error})}),Object(n.jsx)(pe.a,{className:"justify-content-center",children:Object(n.jsx)(p.a,{variant:"outline-primary",onClick:this.handleNewUserPreferences,children:"Add New Preference"})})]})]})}}]),r}(a.Component);function Oe(e){var t=Object(b.f)();return Object(a.useEffect)((function(){localStorage.getItem("jwt")?t.push("/coin-trend-notifier-website/trends"):t.push("/coin-trend-notifier-website/login")})),Object(n.jsx)(s.a.Fragment,{})}function me(e){var t="/coin-trend-notifier-website/";return Object(n.jsx)(x.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(m,{}),Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:t+"trends/:id",component:U}),Object(n.jsx)(b.a,{path:t+"login",children:Object(n.jsx)(u.a,{fluid:!0,className:"HomepageBody",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(v.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10,children:Object(n.jsx)(ee,{})})})})}),Object(n.jsx)(b.a,{path:t+"trends",children:Object(n.jsx)("div",{style:{position:"relative",maxWidth:"960px",margin:"auto"},className:"HomepageBody",children:Object(n.jsx)(M,{})})}),Object(n.jsx)(b.a,{path:t+"signup",children:Object(n.jsx)(u.a,{fluid:!0,className:"HomepageBody",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(v.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10,children:Object(n.jsx)(oe,{})})})})}),Object(n.jsx)(b.a,{path:t+"settings/pass",children:Object(n.jsx)(u.a,{fluid:!0,className:"HomepageBody",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(v.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10,children:Object(n.jsx)(ce,{})})})})}),Object(n.jsx)(b.a,{path:t+"settings",children:Object(n.jsx)(u.a,{fluid:!0,className:"HomepageBody",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(v.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10,children:Object(n.jsx)(ae,{})})})})}),Object(n.jsx)(b.a,{path:t+"preferences",children:Object(n.jsx)(u.a,{fluid:!0,className:"HomepageBody",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(v.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:8,xs:10,children:Object(n.jsx)(fe,{})})})})}),Object(n.jsx)(b.a,{path:t+"about",children:Object(n.jsx)(w,{})}),Object(n.jsx)(b.a,{path:t+"",children:Object(n.jsx)(Oe,{})})]})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(me,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,r){}},[[116,1,2]]]);
//# sourceMappingURL=main.d0c8dbe4.chunk.js.map