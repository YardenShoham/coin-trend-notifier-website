(this["webpackJsonpcoin-trend-notifier-website"]=this["webpackJsonpcoin-trend-notifier-website"]||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),o=(a(87),a(8)),l=a(125),i=a(119),u=a(128),m=a(69),p=a.n(m),f=a(9),d=a(129),b=a(118),g=a(13);function h(e){var t=Object(f.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{id:"AccountWindow",style:{top:"80px",width:"18%",position:"absolute",right:"3px",display:e.visible?"block":"none",zIndex:"1"}},r.a.createElement(d.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"}},"Hi"," ",localStorage.getItem("username")?localStorage.getItem("username"):"Guest"),r.a.createElement(d.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"}},r.a.createElement(g.b,{onClick:e.onAccountWindowChange,to:"/coin-trend-notifier-website/preferences"},"My Preferences")),r.a.createElement(d.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"}},r.a.createElement(g.b,{onClick:e.onAccountWindowChange,to:"/coin-trend-notifier-website/settings"},"Account Settings")),r.a.createElement(d.a.Item,{style:{backgroundColor:"#343a40",color:"rgba(255,255,255,.5)"}},r.a.createElement(b.a,{variant:"outline-danger",size:"sm",style:{color:"rgba(255,255,255,.5)"},onClick:function(){localStorage.setItem("jwt",""),e.onAccountWindowChange(),t.push("/coin-trend-notifier-website/home")}},"Logout"))))}function E(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],m=function(){s(!c)},d=Object(f.f)(),b=function(e){d.push("/coin-trend-notifier-website/".concat(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",style:{marginBottom:"30px",position:"relative"}},r.a.createElement(i.a,{style:{maxWidth:"1020px",margin:"auto"}},r.a.createElement(l.a.Brand,{href:"#home"},r.a.createElement("img",{src:p.a,width:"90px",className:"d-inline-block align-top",alt:"logo",style:{marginLeft:"15px"}})),r.a.createElement(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(l.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(u.a,{className:"mr-auto"},r.a.createElement(u.a.Link,{onClick:function(){c&&m(),b("")}},"Home"),r.a.createElement(u.a.Link,{onClick:function(){c&&m(),b("about")}},"About")),r.a.createElement(u.a,{className:"mr-sm-2",variant:"dark"},r.a.createElement(u.a.Link,{style:{color:"rgba(255,255,255,.5)"},onClick:function(){return m()}},"Account")))),r.a.createElement(h,{visible:c,onAccountWindowChange:m})))}var v=a(6),y=a.n(v),x=a(7),w=a(26),j=a(27),O=a(28),C=a(30),A=a(127),N=a(120),k=a(76),S=a(121),P=a(80),I=(a(59),a(74)),q=a(75),L=function(e){var t=e.color,a=Object(P.a)(e,["color"]),n="green"===t?45:135;return r.a.createElement(I.a,Object.assign({icon:q.a,size:"2x",style:{color:t,transform:"rotate("+n+"deg)",marginLeft:"1rem"}},a))};function B(e){var t={minHeight:"100%",display:"flex",alignItems:"center"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(i.a,{fluid:"true",style:{padding:"5px",textAlign:"center"}},r.a.createElement(N.a,{noGutters:"true"},r.a.createElement(k.a,{xs:1},r.a.createElement("h3",{style:{minHeight:"100%",display:"flex",alignItems:"center",width:"0px",color:"lightslategrey"}},e.indx)),r.a.createElement(k.a,null,r.a.createElement("h3",{style:t},r.a.createElement(S.a,{variant:"up"===e.type?"success":"danger"},e.base+"/"+e.quote))),r.a.createElement(k.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement("h3",null,"up"===e.type?r.a.createElement(L,{color:"green"}):r.a.createElement(L,{color:"red"}))),r.a.createElement(k.a,null,r.a.createElement("h3",{style:t},r.a.createElement(S.a,{variant:"up"===e.type?"success":"danger"},Math.abs(e.chance)+"%"))),r.a.createElement(k.a,null,r.a.createElement(b.a,{style:t,variant:"info",href:"/coin-trend-notifier-website/trends/".concat(e.id)},"Click for more"))))))}var T=a(48).default,D="https://coin-trend-notifier-api.herokuapp.com/",F=function(e){var t=localStorage.getItem("jwt"),a={headers:{Authorization:"Bearer ".concat(t)}};return T.get(D+"api/events?amount=".concat(e),a)},G=function(e){return T.get(D+"api/events/".concat(e))},R=function(e){Object(C.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allTrends:[],amount:15},e.verticalCenterStyle={minHeight:"100%",display:"flex",alignItems:"center",color:"lightslategrey"},e.borderStyle={padding:"5px",textAlign:"center"},e.handleAllTrends=Object(x.a)(y.a.mark((function t(){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.state.amount);case 2:a=t.sent,n=a.data,e.setState({allTrends:n.map((function(e){return{base:e.baseAssetName,quote:e.quoteAssetName,type:e.probability>0?"up":"down",chance:Math.round(100*e.probability),url:"/coin-trend-notifier-website/trends/"+e._id,firedAt:e.firedAt,id:e._id}}))});case 5:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){try{this.handleAllTrends()}catch(e){console.log(e)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(i.a,{fluid:"true",style:this.borderStyle},r.a.createElement(N.a,{noGutters:"true"},r.a.createElement(k.a,{xs:1},r.a.createElement("h4",{style:this.verticalCenterStyle},"#")),r.a.createElement(k.a,null,r.a.createElement("h4",{style:this.verticalCenterStyle},"Asset")),r.a.createElement(k.a,null,r.a.createElement("h4",{style:this.verticalCenterStyle},"Expected to")),r.a.createElement(k.a,null,r.a.createElement("h4",{style:this.verticalCenterStyle},"Probability")),r.a.createElement(k.a,null,r.a.createElement("h4",{style:this.verticalCenterStyle},"More info"))))),this.state.allTrends.map((function(e,t){return r.a.createElement(B,{indx:t+1,key:"STD"+t,base:e.base,quote:e.quote,type:e.type,chance:e.chance,url:e.url,firedAt:e.firedAt,id:e.id})})))}}]),a}(n.Component);function V(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),d=f[0],b=f[1],g=Object(n.useState)(""),h=Object(o.a)(g,2),E=h[0],v=h[1];return Object(n.useEffect)((function(){function t(){return(t=Object(x.a)(y.a.mark((function t(){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e.match.params.id);case 2:a=t.sent,n=a.data,s(n.probability),m(n.firedAt),b(n.baseAssetName),v(n.quoteAssetName);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"ID is: ",e.match.params.id),r.a.createElement("h1",null,"Probability is: ",c),r.a.createElement("h1",null,"Timestamp is: ",u),r.a.createElement("h1",null,"Asset: ",d+"/"+E)))}var z=a(124),H=a(48).default,M="https://coin-trend-notifier-api.herokuapp.com/",U=function(){var e=Object(x.a)(y.a.mark((function e(t,a,n,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post(M+"api/users",{email:t,password:a,username:n,alertLimit:r});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(y.a.mark((function e(t,a,n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwt"),c={headers:{Authorization:"Bearer ".concat(r)}},e.next=4,H.put(M+"api/users",{email:t,username:a,alertLimit:n},c).data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post(M+"api/users/login",{email:t,password:a});case 2:n=e.sent,localStorage.setItem("jwt",n.data.jwt);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(x.a)(y.a.mark((function e(t,a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("jwt"),r={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,H.patch(M+"api/users/password",{oldPassword:t,newPassword:a},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),a={headers:{Authorization:"Bearer ".concat(t)}},e.next=4,H.get(M+"api/users",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function X(e){var t=Object(f.f)();return r.a.createElement(i.a,null,r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"}},"Login"))),""!==e.error&&r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:11,xs:10,style:{textAlign:"center"},className:"m-3"},e.error)),r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:5,xs:10,style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{onClick:function(){t.push("/coin-trend-notifier-website/signup")},variant:"outline-primary"},"Click here for Signup"))))}function Y(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),b=d[0],g=d[1],h=function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,_(c,u);case 4:return e.next=6,J();case 6:a=e.sent.data,localStorage.setItem("username",a.username),E.push("/coin-trend-notifier-website/trends"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),g("User does not exist or Password does not match. Try again.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),E=Object(f.f)();return Object(n.useEffect)((function(){localStorage.getItem("jwt")&&E.push("/coin-trend-notifier-website/trends")})),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{onSubmit:h},r.a.createElement(z.a.Group,{controlId:"formEmail"},r.a.createElement(z.a.Label,null,"Email"),r.a.createElement(z.a.Control,{type:"email",placeholder:"Email",onChange:function(e){s(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formPassword"},r.a.createElement(z.a.Label,null,"Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Password",onChange:function(e){m(e.target.value)}})),r.a.createElement(X,{error:b})))}var $=a(126),K=a(122);function Z(e){return r.a.createElement(i.a,null,r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"}},"Update"))),""!==e.error&&r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:11,xs:10,style:{textAlign:"center"},className:"m-3"},e.error)),r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:5,xs:10,style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{onClick:e.refresh,variant:"outline-primary"},"Refresh"))))}function ee(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)("0"),d=Object(o.a)(p,2),g=d[0],h=d[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),w=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(o.a)(O,2),A=C[0],N=C[1],k=Object(n.useRef)(null),S=Object(n.useRef)(null),P=Object(n.useRef)(null),I=Object(f.f)(),q=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,W(c,u,60*parseInt(g));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),j("Error"),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),L=Object(n.useCallback)(Object(x.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.current.value="",S.current.value="",P.current.value=0,e.next=3,J();case 3:t=e.sent.data,s(t.email),m(t.username),h(t.alertLimit/60);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){L()}),[L]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{onSubmit:q},r.a.createElement(z.a.Group,{controlId:"formEmail"},r.a.createElement(z.a.Label,null,"Email"),r.a.createElement(z.a.Control,{type:"email",ref:k,placeholder:c,onChange:function(e){""===e.target.value&&L(),s(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formUsername"},r.a.createElement(z.a.Label,null,"Username"),r.a.createElement(z.a.Control,{type:"text",ref:S,placeholder:u,onChange:function(e){""===e.target.value&&L(),m(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formAlertLimitNumber"},r.a.createElement($.a,{target:P.current,show:A,placement:"right"},(function(e){return r.a.createElement(K.a,Object.assign({id:"overlay-alert"},e),"Max amount of min hours to be notified")})),r.a.createElement(z.a.Label,null,"Alert Limit"),r.a.createElement(z.a.Control,{type:"number",ref:P,min:0,value:g,onChange:function(e){""===e.target.value&&L(),h(e.target.value)},onMouseOver:function(){return N(!A)},onMouseOut:function(){return N(!A)}})),r.a.createElement("div",{style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{onClick:function(){I.push("/coin-trend-notifier-website/settings/pass")},variant:"outline-danger"},"Change Password")),r.a.createElement(Z,{error:w,refresh:L})))}function te(e){return r.a.createElement(i.a,null,r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"}},"Change Password"))),""!==e.error&&r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:11,xs:10,style:{textAlign:"center"},className:"m-3"},e.error)),r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:6,xs:10,style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{onClick:e.backToSettings,variant:"outline-primary"},"Back To Settings"))))}function ae(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),b=d[0],g=d[1],h=Object(n.useState)(""),E=Object(o.a)(h,2),v=E[0],w=E[1],j=Object(f.f)(),O=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,u===b){e.next=5;break}throw setTimeout((function(){w("")}),3e3),Error("New Passwords Won't Match");case 5:if(!(b.length<6)){e.next=8;break}throw setTimeout((function(){w("")}),3e3),Error("Password must be over 6 characters");case 8:return e.next=10,Q(c,u);case 10:e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(1),!e.t0.message.includes("422")){e.next=17;break}return w("This is not your old password"),e.abrupt("return");case 17:w(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{onSubmit:O},r.a.createElement(z.a.Group,{controlId:"formOldPassword"},r.a.createElement(z.a.Label,null,"Old Password"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter Old Password",onChange:function(e){s(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formNewPass1"},r.a.createElement(z.a.Label,null,"New Password"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter New Password",onChange:function(e){m(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formNewPass2"},r.a.createElement(z.a.Label,null,"Username"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter New Password Again",onChange:function(e){g(e.target.value)}})),r.a.createElement(te,{error:v,backToSettings:function(){j.push("/coin-trend-notifier-website/settings")}})))}function ne(e){var t=Object(f.f)();return r.a.createElement(i.a,null,r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{variant:"primary",size:"lg",active:!0,type:"submit",style:{position:"relative",margin:"auto"}},"Signup"))),""!==e.error&&r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:11,xs:10,style:{textAlign:"center"},className:"m-3"},e.error)),r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(k.a,{md:5,xs:10,style:{textAlign:"center"},className:"m-3"},r.a.createElement(b.a,{onClick:function(){t.push("/coin-trend-notifier-website/login")},variant:"outline-primary"},"Cancel"))))}function re(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),b=d[0],g=d[1],h=Object(n.useState)("0"),E=Object(o.a)(h,2),v=E[0],w=E[1],j=Object(n.useState)(""),O=Object(o.a)(j,2),C=O[0],A=O[1],N=Object(f.f)(),k=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,U(c,u,b,60*parseInt(v));case 4:N.push("/coin-trend-notifier-website/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),A("Error"),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{onSubmit:k},r.a.createElement(z.a.Group,{controlId:"formEmail"},r.a.createElement(z.a.Label,null,"Email"),r.a.createElement(z.a.Control,{type:"email",placeholder:"Email",onChange:function(e){s(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formPassword"},r.a.createElement(z.a.Label,null,"Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Password",onChange:function(e){m(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formUsername"},r.a.createElement(z.a.Label,null,"Username"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Username",onChange:function(e){g(e.target.value)}})),r.a.createElement(z.a.Group,{controlId:"formAlertLimitNumber"},r.a.createElement(z.a.Label,null,"Alert Limit"),r.a.createElement(z.a.Control,{type:"number",min:0,placeholder:"Max amount of min hours to be notified",onChange:function(e){w(e.target.value)}})),r.a.createElement(ne,{error:C})))}var ce=a(79),se=a(48).default,oe="https://coin-trend-notifier-api.herokuapp.com/api/preferences",le=function(){var e=Object(x.a)(y.a.mark((function e(t,a,n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwt"),c={headers:{Authorization:"Bearer ".concat(r)}},e.next=4,se.post(oe,{probability:t,baseAssetName:a,quoteAssetName:n},c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwt"),n={headers:{Authorization:"Bearer ".concat(a)}},e.next=4,se.delete(oe+"?baseAssetName="+t.baseAssetName+"&quoteAssetName="+t.quoteAssetName,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(x.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),a={headers:{Authorization:"Bearer ".concat(t)}},e.next=4,se.get(oe,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=a(123),pe=function(e){Object(C.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(w.a)(this,a),(n=t.call(this,e)).state={preference:{},edit:!0,originalValues:{}},n.calculateProbabilities=function(){for(var e=[],t=10;t<=90;t+=10)e.push(t);return e},n.handleEditPreference=function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(a=n.state.edit)){e.next=22;break}if("Base Coin"!==n.state.preference.baseAssetName&&"Quote Coin"!==n.state.preference.quoteAssetName&&"Probability"!==n.state.preference.probability||(a=!a,n.props.onEditChange(t,a),console.log("preferenced could not be saved")),a){e.next=22;break}if("Base Coin"!==n.state.originalValues.baseAssetName||"Quote Coin"!==n.state.originalValues.quoteAssetName||"Probability"!==n.state.originalValues.probability){e.next=10;break}return e.next=8,le(parseFloat(n.state.preference.probability)/100,n.state.preference.baseAssetName,n.state.preference.quoteAssetName);case 8:e.next=20;break;case 10:if(n.state.preference.baseAssetName===n.state.originalValues.baseAssetName&&n.state.preference.quoteAssetName===n.state.originalValues.quoteAssetName){e.next=17;break}return e.next=13,ie({baseAssetName:n.state.originalValues.baseAssetName,quoteAssetName:n.state.originalValues.quoteAssetName});case 13:return e.next=15,le(parseFloat(n.state.preference.probability)/100,n.state.preference.baseAssetName,n.state.preference.quoteAssetName);case 15:e.next=20;break;case 17:if(n.state.preference.probability===n.state.originalValues.probability){e.next=20;break}return e.next=20,le(parseFloat(n.state.preference.probability)/100,n.state.preference.baseAssetName,n.state.preference.quoteAssetName);case 20:n.props.refresh(),console.log("preference saved");case 22:n.props.onEditChange(t,a),n.setState({edit:a});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePreferenceChanges=function(e,t,a){var r=n.state.preference;"base"===e?r.baseAssetName=a.target.value:"quote"===e?r.quoteAssetName=a.target.value:"prob"===e&&(r.probability=a.target.value),n.setState({preference:r})},n.componentDidMount=function(){},n.getDefaultValue=function(){return"Probability"===n.props.preference.probability?"Probability":100*n.props.preference.probability};var r=Object.assign({},n.props.preference),c=Object.assign({},n.props.preference),s=n.props.editing;return n.state={edit:s,preference:c,originalValues:r},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(z.a.Row,null,r.a.createElement(k.a,{xs:1},r.a.createElement(b.a,{variant:"outline-danger",onClick:function(){return e.props.onRemovePreference(e.props.index)}},"x")),r.a.createElement(k.a,{xs:1.2},r.a.createElement(b.a,{id:"preference_"+this.props.index,variant:"outline-info",onClick:function(){return e.handleEditPreference(e.props.index)}},!1===this.state.edit?"Edit":"Save")),r.a.createElement(k.a,null,r.a.createElement(z.a.Control,{defaultValue:this.props.preference.baseAssetName,disabled:!this.state.edit,as:"select",onChange:function(t){return e.handlePreferenceChanges("base",e.props.index,t)}},r.a.createElement("option",null,"Base Coin"),this.props.baseCoins.map((function(e){return r.a.createElement("option",{key:"option_"+e,value:e},e)})))),r.a.createElement(k.a,{style:{textAlign:"center"},xs:1},"/"),r.a.createElement(k.a,null,r.a.createElement(z.a.Control,{disabled:!this.state.edit,as:"select",onChange:function(t){return e.handlePreferenceChanges("quote",e.props.index,t)},defaultValue:this.props.preference.quoteAssetName},r.a.createElement("option",null,"Quote Coin"),this.props.quoteCoins.map((function(e){return r.a.createElement("option",{key:"option_"+e,value:e},e)})))),r.a.createElement(k.a,null,r.a.createElement(z.a.Control,{defaultValue:this.getDefaultValue(),disabled:!this.state.edit,as:"select",onChange:function(t){return e.handlePreferenceChanges("prob",e.props.index,t)}},r.a.createElement("option",{key:"option_new",value:"Probability"},"Probability"),this.calculateProbabilities().map((function(e){var t=parseInt(e);return r.a.createElement("option",{key:"option_"+t,value:t},t+"%")})))))))}}]),a}(n.Component),fe=function(e){Object(C.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userPreferences:[],editing:[],baseCoins:["BTC","ETH","TRX","USDT"],quoteCoins:["BTC","ETH","TRX","USDT"]},e.handleNewUserPreferences=function(){e.setState({userPrefences:e.state.userPreferences.push({probability:"Probability",baseAssetName:"Base Coin",quoteAssetName:"Quote Coin"}),editing:[].concat(Object(ce.a)(e.state.editing),[!0])})},e.handleRemovePreference=function(){var t=Object(x.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Base Coin"!==e.state.userPreferences[a].baseAssetName&&"Quote Coin"!==e.state.userPreferences[a].quoteAssetName&&"Probability"!==e.state.userPreferences[a].probability||e.refreshData(),n=e.state.userPreferences,t.next=4,ie({baseAssetName:n[a].baseAssetName,quoteAssetName:n[a].quoteAssetName});case 4:e.refreshData();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.refreshData=Object(x.a)(y.a.mark((function t(){var a,n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue();case 2:for(a=t.sent,n=[],r=0;r<a.data.length;r++)n.push(!1);e.setState({userPreferences:a.data,editing:n});case 6:case"end":return t.stop()}}),t)}))),e.handleEditingChange=function(t,a){var n=e.state.editing;n[t]=a,e.setState({editing:n})},e.componentDidMount=Object(x.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData();case 2:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this;try{e=this.state.userPreferences.map((function(e,a){return r.a.createElement(pe,{key:"preference_"+a,index:a,preference:e,editing:t.state.editing[a],onRemovePreference:t.handleRemovePreference,baseCoins:t.state.baseCoins,quoteCoins:t.state.quoteCoins,refresh:t.refreshData,onEditChange:t.handleEditingChange})}))}catch(a){e=null}return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hi,"," ",localStorage.getItem("username")?localStorage.getItem("username"):"Guest"),r.a.createElement("span",null,"In this page you can edit your preferred coins."),r.a.createElement("br",null),r.a.createElement("span",null,"You will get notifications on the crypto coins that are shown here."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,{onSubmit:this.handleSaveChanges},e,r.a.createElement("br",null),r.a.createElement(me.a,{className:"justify-content-center"},r.a.createElement(b.a,{variant:"outline-primary",onClick:this.handleNewUserPreferences},"Add New Preference"))))}}]),a}(n.Component);function de(e){var t=Object(f.f)();return Object(n.useEffect)((function(){localStorage.getItem("jwt")?t.push("/coin-trend-notifier-website/trends"):t.push("/coin-trend-notifier-website/login")})),r.a.createElement(r.a.Fragment,null)}function be(e){var t="/coin-trend-notifier-website/";return r.a.createElement(g.a,null,r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:t+"trends/:id",component:V}),r.a.createElement(f.a,{path:t+"login"},r.a.createElement(i.a,{fluid:!0,className:"HomepageBody"},r.a.createElement(N.a,null,r.a.createElement(k.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10},r.a.createElement(Y,null))))),r.a.createElement(f.a,{path:t+"trends"},r.a.createElement("div",{style:{position:"relative",maxWidth:"960px",margin:"auto"},className:"HomepageBody"},r.a.createElement(R,null))),r.a.createElement(f.a,{path:t+"signup"},r.a.createElement(i.a,{fluid:!0,className:"HomepageBody"},r.a.createElement(N.a,null,r.a.createElement(k.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10},r.a.createElement(re,null))))),r.a.createElement(f.a,{path:t+"settings/pass"},r.a.createElement(i.a,{fluid:!0,className:"HomepageBody"},r.a.createElement(N.a,null,r.a.createElement(k.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10},r.a.createElement(ae,null))))),r.a.createElement(f.a,{path:t+"settings"},r.a.createElement(i.a,{fluid:!0,className:"HomepageBody"},r.a.createElement(N.a,null,r.a.createElement(k.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:5,xs:10},r.a.createElement(ee,null))))),r.a.createElement(f.a,{path:t+"preferences"},r.a.createElement(i.a,{fluid:!0,className:"HomepageBody"},r.a.createElement(N.a,null,r.a.createElement(k.a,{style:{border:"1px solid gray",padding:"50px",position:"relative",top:"10%",margin:"auto",boxShadow:"0px 0px 8px -2px",borderRadius:"1%"},md:8,xs:10},r.a.createElement(fe,null))))),r.a.createElement(f.a,{path:t+"about"},r.a.createElement(r.a.Fragment,null)),r.a.createElement(f.a,{path:t+""},r.a.createElement(de,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},69:function(e,t,a){e.exports=a.p+"static/media/logo.6d974881.png"},82:function(e,t,a){e.exports=a(113)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.77eddf4b.chunk.js.map